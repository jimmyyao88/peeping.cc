angular.module("stBlurredDialog",[]).constant("stBlurredDialogClasses",{blurredRegion:"st-blurred-region"}).factory("stBlurredDialog",["$timeout",function(e){var n={subscribers:[],isOpen:!1,dialogData:null};return{open:function(r,i){e(function(){n.dialogData=i,n.isOpen=!0,angular.forEach(n.subscribers,function(e){e(n.isOpen,r)})})},close:function(){e(function(){n.isOpen=!1,angular.forEach(n.subscribers,function(e){e(n.isOpen)})})},isOpen:function(){return n.isOpen},getDialogData:function(){return n.dialogData},subscribe:function(e){n.subscribers.push(e)}}}]).directive("stBlurredDialogRegion",[function(){return{restrict:"A",scope:{},controller:["$scope","stBlurredDialog","$element","stBlurredDialogClasses",function(e,n,r,i){n.subscribe(function(e,n,t){e?r.addClass(i.blurredRegion):r.removeClass(i.blurredRegion)})}],link:function(e,n,r){}}}]).directive("stBlurredDialogOverlay",[function(){return{restrict:"E",replace:!0,template:"<div ng-if='model.isOpen' class='st-blurred-region-overlay'><div style='text-align:right;'><button ng-click='close()' class='st-blurred-region-close'>x</button></div><div ng-include src='model.pathToTemplate'></p></div>",controller:["$scope","stBlurredDialog","$element",function(e,n,r){e.model={isOpen:!1,pathToTemplate:null},n.subscribe(function(n,r){e.model.isOpen=n,e.model.pathToTemplate=r}),e.close=function(){n.close()}}],link:function(e,n,r){}}}]);